{
  "version": 3,
  "sources": ["../../../src/component/event-listeners/delete.js"],
  "sourcesContent": ["/**\n * WordPress dependencies\n */\nimport { BACKSPACE, DELETE } from '@wordpress/keycodes';\n\n/**\n * Internal dependencies\n */\nimport { remove } from '../../remove';\n\nexport default ( props ) => ( element ) => {\n\tfunction onKeyDown( event ) {\n\t\tconst { keyCode } = event;\n\t\tconst { createRecord, handleChange } = props.current;\n\n\t\tif ( event.defaultPrevented ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( keyCode !== DELETE && keyCode !== BACKSPACE ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst currentValue = createRecord();\n\t\tconst { start, end, text } = currentValue;\n\n\t\t// Always handle full content deletion ourselves.\n\t\tif ( start === 0 && end !== 0 && end === text.length ) {\n\t\t\thandleChange( remove( currentValue ) );\n\t\t\tevent.preventDefault();\n\t\t}\n\t}\n\n\telement.addEventListener( 'keydown', onKeyDown );\n\treturn () => {\n\t\telement.removeEventListener( 'keydown', onKeyDown );\n\t};\n};\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA,sBAAkC;AAKlC,oBAAuB;AAEvB,IAAO,iBAAQ,CAAE,UAAW,CAAE,YAAa;AAC1C,WAAS,UAAW,OAAQ;AAC3B,UAAM,EAAE,QAAQ,IAAI;AACpB,UAAM,EAAE,cAAc,aAAa,IAAI,MAAM;AAE7C,QAAK,MAAM,kBAAmB;AAC7B;AAAA,IACD;AAEA,QAAK,YAAY,0BAAU,YAAY,2BAAY;AAClD;AAAA,IACD;AAEA,UAAM,eAAe,aAAa;AAClC,UAAM,EAAE,OAAO,KAAK,KAAK,IAAI;AAG7B,QAAK,UAAU,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAS;AACtD,uBAAc,sBAAQ,YAAa,CAAE;AACrC,YAAM,eAAe;AAAA,IACtB;AAAA,EACD;AAEA,UAAQ,iBAAkB,WAAW,SAAU;AAC/C,SAAO,MAAM;AACZ,YAAQ,oBAAqB,WAAW,SAAU;AAAA,EACnD;AACD;",
  "names": []
}
