{
  "version": 3,
  "sources": ["../../../src/component/event-listeners/prevent-focus-capture.js"],
  "sourcesContent": ["/**\n * Prevents focus from being captured by the element when clicking _outside_\n * around the element. This may happen when the parent element is flex.\n * @see https://github.com/WordPress/gutenberg/pull/65857\n * @see https://github.com/WordPress/gutenberg/pull/66402\n */\nexport function preventFocusCapture() {\n\treturn ( element ) => {\n\t\tconst { ownerDocument } = element;\n\t\tconst { defaultView } = ownerDocument;\n\n\t\tlet value = null;\n\n\t\tfunction onPointerDown( event ) {\n\t\t\t// Abort if the event is default prevented, we will not get a pointer up event.\n\t\t\tif ( event.defaultPrevented ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif ( event.target === element ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif ( ! event.target.contains( element ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvalue = element.getAttribute( 'contenteditable' );\n\t\t\telement.setAttribute( 'contenteditable', 'false' );\n\t\t\tdefaultView.getSelection().removeAllRanges();\n\t\t}\n\n\t\tfunction onPointerUp() {\n\t\t\tif ( value !== null ) {\n\t\t\t\telement.setAttribute( 'contenteditable', value );\n\t\t\t\tvalue = null;\n\t\t\t}\n\t\t}\n\n\t\tdefaultView.addEventListener( 'pointerdown', onPointerDown );\n\t\tdefaultView.addEventListener( 'pointerup', onPointerUp );\n\t\treturn () => {\n\t\t\tdefaultView.removeEventListener( 'pointerdown', onPointerDown );\n\t\t\tdefaultView.removeEventListener( 'pointerup', onPointerUp );\n\t\t};\n\t};\n}\n"],
  "mappings": ";AAMO,SAAS,sBAAsB;AACrC,SAAO,CAAE,YAAa;AACrB,UAAM,EAAE,cAAc,IAAI;AAC1B,UAAM,EAAE,YAAY,IAAI;AAExB,QAAI,QAAQ;AAEZ,aAAS,cAAe,OAAQ;AAE/B,UAAK,MAAM,kBAAmB;AAC7B;AAAA,MACD;AACA,UAAK,MAAM,WAAW,SAAU;AAC/B;AAAA,MACD;AACA,UAAK,CAAE,MAAM,OAAO,SAAU,OAAQ,GAAI;AACzC;AAAA,MACD;AACA,cAAQ,QAAQ,aAAc,iBAAkB;AAChD,cAAQ,aAAc,mBAAmB,OAAQ;AACjD,kBAAY,aAAa,EAAE,gBAAgB;AAAA,IAC5C;AAEA,aAAS,cAAc;AACtB,UAAK,UAAU,MAAO;AACrB,gBAAQ,aAAc,mBAAmB,KAAM;AAC/C,gBAAQ;AAAA,MACT;AAAA,IACD;AAEA,gBAAY,iBAAkB,eAAe,aAAc;AAC3D,gBAAY,iBAAkB,aAAa,WAAY;AACvD,WAAO,MAAM;AACZ,kBAAY,oBAAqB,eAAe,aAAc;AAC9D,kBAAY,oBAAqB,aAAa,WAAY;AAAA,IAC3D;AAAA,EACD;AACD;",
  "names": []
}
