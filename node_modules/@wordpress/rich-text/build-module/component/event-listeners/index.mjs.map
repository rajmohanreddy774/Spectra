{
  "version": 3,
  "sources": ["../../../src/component/event-listeners/index.js"],
  "sourcesContent": ["/**\n * WordPress dependencies\n */\nimport { useMemo, useRef, useInsertionEffect } from '@wordpress/element';\nimport { useRefEffect } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport copyHandler from './copy-handler';\nimport selectObject from './select-object';\nimport formatBoundaries from './format-boundaries';\nimport deleteHandler from './delete';\nimport inputAndSelection from './input-and-selection';\nimport selectionChangeCompat from './selection-change-compat';\nimport { preventFocusCapture } from './prevent-focus-capture';\n\nconst allEventListeners = [\n\tcopyHandler,\n\tselectObject,\n\tformatBoundaries,\n\tdeleteHandler,\n\tinputAndSelection,\n\tselectionChangeCompat,\n\tpreventFocusCapture,\n];\n\nexport function useEventListeners( props ) {\n\tconst propsRef = useRef( props );\n\tuseInsertionEffect( () => {\n\t\tpropsRef.current = props;\n\t} );\n\tconst refEffects = useMemo(\n\t\t() => allEventListeners.map( ( refEffect ) => refEffect( propsRef ) ),\n\t\t[ propsRef ]\n\t);\n\n\treturn useRefEffect(\n\t\t( element ) => {\n\t\t\tconst cleanups = refEffects.map( ( effect ) => effect( element ) );\n\t\t\treturn () => {\n\t\t\t\tcleanups.forEach( ( cleanup ) => cleanup() );\n\t\t\t};\n\t\t},\n\t\t[ refEffects ]\n\t);\n}\n"],
  "mappings": ";AAGA,SAAS,SAAS,QAAQ,0BAA0B;AACpD,SAAS,oBAAoB;AAK7B,OAAO,iBAAiB;AACxB,OAAO,kBAAkB;AACzB,OAAO,sBAAsB;AAC7B,OAAO,mBAAmB;AAC1B,OAAO,uBAAuB;AAC9B,OAAO,2BAA2B;AAClC,SAAS,2BAA2B;AAEpC,IAAM,oBAAoB;AAAA,EACzB;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACD;AAEO,SAAS,kBAAmB,OAAQ;AAC1C,QAAM,WAAW,OAAQ,KAAM;AAC/B,qBAAoB,MAAM;AACzB,aAAS,UAAU;AAAA,EACpB,CAAE;AACF,QAAM,aAAa;AAAA,IAClB,MAAM,kBAAkB,IAAK,CAAE,cAAe,UAAW,QAAS,CAAE;AAAA,IACpE,CAAE,QAAS;AAAA,EACZ;AAEA,SAAO;AAAA,IACN,CAAE,YAAa;AACd,YAAM,WAAW,WAAW,IAAK,CAAE,WAAY,OAAQ,OAAQ,CAAE;AACjE,aAAO,MAAM;AACZ,iBAAS,QAAS,CAAE,YAAa,QAAQ,CAAE;AAAA,MAC5C;AAAA,IACD;AAAA,IACA,CAAE,UAAW;AAAA,EACd;AACD;",
  "names": []
}
