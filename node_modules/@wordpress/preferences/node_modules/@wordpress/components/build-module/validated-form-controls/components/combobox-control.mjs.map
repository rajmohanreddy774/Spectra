{
  "version": 3,
  "sources": ["../../../src/validated-form-controls/components/combobox-control.tsx"],
  "sourcesContent": ["/**\n * WordPress dependencies\n */\nimport { useMergeRefs } from '@wordpress/compose';\nimport { forwardRef, useEffect, useRef } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { ControlWithError } from '../control-with-error';\nimport ComboboxControl from '../../combobox-control';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst UnforwardedValidatedComboboxControl = ({\n  required,\n  customValidity,\n  markWhenOptional,\n  ...restProps\n}, forwardedRef) => {\n  const validityTargetRef = useRef(null);\n  const mergedRefs = useMergeRefs([forwardedRef, validityTargetRef]);\n\n  // TODO: Upstream limitation - The `required` attribute is not passed down to the input,\n  // so we need to set it manually.\n  useEffect(() => {\n    const input = validityTargetRef.current?.querySelector('input[role=\"combobox\"]');\n    if (input) {\n      input.required = required !== null && required !== void 0 ? required : false;\n    }\n  }, [required]);\n  return (\n    /*#__PURE__*/\n    // TODO: Bug - Missing value error is not cleared immediately on change, waits for blur.\n    _jsx(ControlWithError, {\n      required: required,\n      markWhenOptional: markWhenOptional,\n      ref: mergedRefs,\n      customValidity: customValidity,\n      getValidityTarget: () => validityTargetRef.current?.querySelector('input[role=\"combobox\"]'),\n      children: /*#__PURE__*/_jsx(ComboboxControl, {\n        __next40pxDefaultSize: true,\n        ...restProps\n      })\n    })\n  );\n};\nexport const ValidatedComboboxControl = forwardRef(UnforwardedValidatedComboboxControl);"],
  "mappings": ";AAGA,SAAS,oBAAoB;AAC7B,SAAS,YAAY,WAAW,cAAc;AAK9C,SAAS,wBAAwB;AACjC,OAAO,qBAAqB;AAC5B,SAAS,OAAO,YAAY;AAC5B,IAAM,sCAAsC,CAAC;AAAA,EAC3C;AAAA,EACA;AAAA,EACA;AAAA,EACA,GAAG;AACL,GAAG,iBAAiB;AAClB,QAAM,oBAAoB,OAAO,IAAI;AACrC,QAAM,aAAa,aAAa,CAAC,cAAc,iBAAiB,CAAC;AAIjE,YAAU,MAAM;AACd,UAAM,QAAQ,kBAAkB,SAAS,cAAc,wBAAwB;AAC/E,QAAI,OAAO;AACT,YAAM,WAAW,aAAa,QAAQ,aAAa,SAAS,WAAW;AAAA,IACzE;AAAA,EACF,GAAG,CAAC,QAAQ,CAAC;AACb;AAAA;AAAA,IAGE,qBAAK,kBAAkB;AAAA,MACrB;AAAA,MACA;AAAA,MACA,KAAK;AAAA,MACL;AAAA,MACA,mBAAmB,MAAM,kBAAkB,SAAS,cAAc,wBAAwB;AAAA,MAC1F,UAAuB,qBAAK,iBAAiB;AAAA,QAC3C,uBAAuB;AAAA,QACvB,GAAG;AAAA,MACL,CAAC;AAAA,IACH,CAAC;AAAA;AAEL;AACO,IAAM,2BAA2B,WAAW,mCAAmC;",
  "names": []
}
